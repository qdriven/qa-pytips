import{_ as l,a as u,b as k}from"./BaseDisclaimerTitle.631caf82.js";import{q as r,o as d,c as m,b as n,f as s,t as g,B as h,s as t,e as f}from"./app.e6b4b7b5.js";const _={class:"markdown-body"},y=f("a",{target:"_blank",href:"https://docs.python.org/3/library/zipfile.html"},"Python 3 documentation",-1),w=g(`<h2 id="zip" tabindex="-1">\u8BFB\u53D6ZIP\u6587\u4EF6</h2><pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span> <span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">&#39;example.zip&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> example_zip\u3002
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>example_zip<span class="token punctuation">.</span>namelist<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> spam_info <span class="token operator">=</span> example_zip<span class="token punctuation">.</span>getinfo<span class="token punctuation">(</span><span class="token string">&#39;spam.txt&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>spam_info<span class="token punctuation">.</span>file_size<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>spam_info<span class="token punctuation">.</span>compress_size<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;\u538B\u7F29\u540E\u7684\u6587\u4EF6\u5C0F\u4E86 %sx\uFF01&#39;</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token builtin">round</span><span class="token punctuation">(</span>spam_info<span class="token punctuation">.</span>file_size <span class="token operator">/</span> spam_info<span class="token punctuation">.</span>compress_size<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># [&#39;spam.txt&#39;, &#39;cats/&#39;, &#39;cats/catnames.txt&#39;, &#39;cats/zophie.jpg&#39;]</span>
<span class="token comment"># 13908</span>
<span class="token comment"># 3828</span>
<span class="token comment"># &#39;\u538B\u7F29\u540E\u7684\u6587\u4EF6\u5C0F\u4E863.63\u500D!</span>
</code></pre><h2 id="zip-1" tabindex="-1">\u4ECEZIP\u6587\u4EF6\u4E2D\u63D0\u53D6</h2><p>Zip\u6587\u4EF6\u5BF9\u8C61\u7684<code>extractall()</code>\u65B9\u6CD5\u5C06ZIP\u6587\u4EF6\u4E2D\u7684\u6240\u6709\u6587\u4EF6\u548C\u6587\u4EF6\u5939\u63D0\u53D6\u5230\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\u4E2D\u3002</p><pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span> <span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">&#39;example.zip&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> example_zip<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> example_zip<span class="token punctuation">.</span>extractall<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><p>ZipFile\u5BF9\u8C61\u7684<code>extract()</code>\u65B9\u6CD5\u5C06\u4ECEZIP\u6587\u4EF6\u4E2D\u63D0\u53D6\u5355\u4E2A\u6587\u4EF6\u3002</p><pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span> <span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">&#39;example.zip&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> example_zip<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>example_zip<span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token string">&#39;spam.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>example_zip<span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token string">&#39;spam.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C:\\some\\new\\folders&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># &#39;C:\\spam.txt&#39;)</span>
<span class="token comment"># &#39;C:\\some\\new\\folders\\spam.txt&#39;\u3002</span>
</code></pre><h2 id="zip-2" tabindex="-1">\u521B\u5EFA\u548C\u6DFB\u52A0\u5230ZIP\u6587\u4EF6</h2><pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>\u5BFC\u5165zipfile
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span> <span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">&#39;new.zip&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;w&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> new_zip\u3002
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> new_zip<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&#39;spam.txt&#39;</span><span class="token punctuation">,</span> compress_type<span class="token operator">=</span>zipfile<span class="token punctuation">.</span>ZIP_DEFLATED<span class="token punctuation">)</span>
</code></pre><p>\u8FD9\u6BB5\u4EE3\u7801\u5C06\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684ZIP\u6587\u4EF6\uFF0C\u540D\u4E3Anew.zip\uFF0C\u5176\u4E2D\u6709spam.txt\u7684\u538B\u7F29\u5185\u5BB9\u3002</p><h2 id="zip-3" tabindex="-1">\u8BFB\u53D6ZIP\u6587\u4EF6\u7684\u5143\u6570\u636E</h2><h3 id="namelist" tabindex="-1">\u7528namelist()\u83B7\u53D6\u6587\u4EF6\u540D</h3><pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>\u5BFC\u5165zipfile
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span> <span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">&#39;example.zip&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;r&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> zf\u3002
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>zf<span class="token punctuation">.</span>namelist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># [&#39;README.txt&#39;]</span>
</code></pre><h3 id="infolist" tabindex="-1">\u7528infolist()\u83B7\u53D6\u6240\u6709\u5143\u6570\u636E</h3><pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>\u5BFC\u5165datetime
<span class="token operator">&gt;&gt;</span> \u8F93\u5165 zipfile
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span> <span class="token keyword">with</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span>archive_name<span class="token punctuation">)</span> <span class="token keyword">as</span> zf<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">for</span> info <span class="token keyword">in</span> zf<span class="token punctuation">.</span>infolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> system <span class="token operator">=</span> <span class="token string">&#39;Windows&#39;</span> <span class="token keyword">if</span> info<span class="token punctuation">.</span>create_system <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">&#39;Unix&#39;</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> modified <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token operator">*</span>info<span class="token punctuation">.</span>date_time<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>filename<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;Comment : </span><span class="token interpolation"><span class="token punctuation">{</span>info<span class="token punctuation">.</span>comment<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;Modified : </span><span class="token interpolation"><span class="token punctuation">{</span>modified<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;System : </span><span class="token interpolation"><span class="token punctuation">{</span>system<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;ZIP version : </span><span class="token interpolation"><span class="token punctuation">{</span>info<span class="token punctuation">.</span>create_version<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;Compressed : </span><span class="token interpolation"><span class="token punctuation">{</span>info<span class="token punctuation">.</span>compress_size<span class="token punctuation">}</span></span><span class="token string"> bytes&#39;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;Uncompressed: </span><span class="token interpolation"><span class="token punctuation">{</span>info<span class="token punctuation">.</span>file_size<span class="token punctuation">}</span></span><span class="token string"> bytes&#39;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment"># README.txt</span>
<span class="token comment"># \u8BC4\u8BBA : b&#39;&#39;</span>
<span class="token comment"># \u4FEE\u6539\u65F6\u95F4 : 2022-11-15 06:48:02</span>
<span class="token comment"># System : Unix</span>
<span class="token comment"># ZIP\u7248\u672C\uFF1A30</span>
<span class="token comment"># \u538B\u7F29 : 65 bytes</span>
<span class="token comment"># \u672A\u538B\u7F29\u7684 76 bytes</span>
</code></pre>`,15),v="Python Zipfile Module - Python Cheatsheet",C="This module provides tools to create, read, write, append, and list a ZIP file.",T=[{property:"og:title",content:"Python Zipfile Module - Python Cheatsheet"},{property:"og:description",content:"This module provides tools to create, read, write, append, and list a ZIP file."},{name:"description",content:"This module provides tools to create, read, write, append, and list a ZIP file."}],M={__name:"13-zipfile-module",setup(z,{expose:p}){const a={title:"Python Zipfile Module - Python Cheatsheet",description:"This module provides tools to create, read, write, append, and list a ZIP file.",meta:[{property:"og:title",content:"Python Zipfile Module - Python Cheatsheet"},{property:"og:description",content:"This module provides tools to create, read, write, append, and list a ZIP file."},{name:"description",content:"This module provides tools to create, read, write, append, and list a ZIP file."}]};return p({frontmatter:a}),r({title:"Python Zipfile Module - Python Cheatsheet",meta:[{property:"og:title",content:"Python Zipfile Module - Python Cheatsheet"},{property:"og:description",content:"This module provides tools to create, read, write, append, and list a ZIP file."},{name:"description",content:"This module provides tools to create, read, write, append, and list a ZIP file."}]}),(Z,P)=>{const o=h,e=u,c=k,i=l;return d(),m("div",_,[n(o,{title:a.title,description:a.description},{default:s(()=>[t(" Python Zipfile Module ")]),_:1},8,["title","description"]),n(i,null,{default:s(()=>[n(e,null,{default:s(()=>[t(" From the "),y]),_:1}),n(c,null,{default:s(()=>[t(" This module provides tools to create, read, write, append, and list a ZIP file. ")]),_:1})]),_:1}),w])}}};export{M as default,C as description,T as meta,v as title};
