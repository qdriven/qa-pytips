<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><link rel="icon" href="https://raw.githubusercontent.com/wilfredinni/merken/master/static/merken/img/snake.svg"><link rel="apple-touch-icon" href="/android-chrome-192x192.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#00aba9"><meta name="viewport" content="width=device-width,initial-scale=1"><style>html{scroll-behavior:smooth}</style><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="module" async="" crossorigin="" src="/assets/app.e6b4b7b5.js"></script><link rel="stylesheet" href="/assets/index.f7f387c7.css"><link rel="manifest" href="/manifest.webmanifest"><link rel="modulepreload" crossorigin="" href="/assets/article.4450c938.js"><link rel="modulepreload" crossorigin="" href="/assets/python-projects-with-poetry-and-vscode-part-1.7f64ab95.js"><link rel="modulepreload" crossorigin="" href="/assets/BaseDisclaimerTitle.631caf82.js"><title>Python projects with Poetry and VSCode Part 1 - Python Cheatsheet</title><meta name="theme-color" content="#ffffff"><meta name="author" content="Software QA Python Cheatsheet"><meta name="keywords" content="python, cheatsheet, cheat, sheet, functions, args, kwargs, sets, dictionary, list, string, regular, expression, formatting, file, path, json, test, vscode, comprehension, exception, debugging, dataclasses, environments, flow control, itertools, qa-in-python, qa-testing-scripts"><meta property="og:url" content="https://localhost:3000/blog/python-projects-with-poetry-and-vscode-part-1"><meta property="og:type" content="article"><link rel="canonical" href="https://localhost:3000/blog/python-projects-with-poetry-and-vscode-part-1"><meta property="og:title" content="Python projects with Poetry and VSCode Part 1 - Python Cheatsheet"><meta property="og:description" content="We'll use Poetry to start a simple project, manage dependencies and publish it on PyPI. We'll also integrate Pytest, Black, and Flake8 into VSCode directly from a Virtual Environment."><meta name="description" content="We'll use Poetry to start a simple project, manage dependencies and publish it on PyPI. We'll also integrate Pytest, Black, and Flake8 into VSCode directly from a Virtual Environment."></head><body><div id="app" data-server-rendered="true"><div class="min-h-screen bg-white dark:bg-gray-900"><nav class="sticky top-0 z-40 w-full flex-none border-b border-slate-900/10 bg-white/90 backdrop-blur dark:border-slate-50/[0.06] dark:bg-transparent lg:z-50" style=""><div class="mx-auto max-w-8xl px-2 sm:px-6 lg:px-12"><div class="relative flex h-14 justify-between"><!--[--><div class="absolute inset-y-0 left-1.5 flex items-center lg:hidden"><button type="button" class="relative"><span class="sr-only">Open navigation</span><svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 stroke-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div><!----><!--]--><div class="ml-14 flex flex-1 items-center space-x-6 lg:ml-0"><div class="mr-3 flex flex-shrink-0 items-center"><a href="/" class=""><img class="h-5 w-auto" src="https://raw.githubusercontent.com/wilfredinni/merken/master/static/merken/img/snake.svg" alt="software qa in python" height="10" width="10"></a></div><div id="docsearch"></div><a href="/blog"><div class="flex w-auto items-center rounded-full bg-sky-400/10 py-1 px-3 text-xs font-medium leading-5 text-sky-600 transition duration-300 hover:bg-sky-400/20 dark:text-sky-400 hidden lg:flex"><strong class="font-semibold line-clamp-1"><!--[--><span class="hidden xl:flex">✨ Read the latest Sofeware QA Python Revisited Issue! </span><span class="hidden lg:block xl:hidden">✨ Latest Issue </span><!--]--></strong><svg width="3" height="6" class="ml-3 overflow-visible text-sky-300 dark:text-sky-400" aria-hidden="true"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></a></div><div class="absolute inset-y-0 right-0 flex items-center space-x-5 pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"><div class="hidden border-r border-slate-200 pr-6 dark:border-slate-800 sm:ml-6 sm:space-x-6 lg:flex"><!--[--><div><a href="/blog" class="inline-flex items-center px-1 pt-1 text-sm font-medium transition duration-300 text-slate-700 hover:text-sky-500 dark:text-gray-200 dark:hover:text-sky-400">Blog</a></div><div><a href="https://fluent-qa.hashnode.dev/" target="_blank" class="inline-flex items-center px-1 pt-1 text-sm font-medium text-slate-700 transition duration-300 hover:text-sky-500 dark:text-gray-200 dark:hover:text-sky-400">Weekly</a></div><!--]--><button><div class="flex w-auto items-center rounded-full bg-sky-400/10 py-1 px-3 text-xs font-medium leading-5 text-sky-600 transition duration-300 hover:bg-sky-400/20 dark:text-sky-400"><strong class="font-semibold line-clamp-1"><!--[--> Enter reader mode <!--]--></strong><svg width="3" height="6" class="ml-3 overflow-visible text-sky-300 dark:text-sky-400" aria-hidden="true"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button></div><!--[--><!----><button class="bg-gray-200 relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none" id="headlessui-switch-7" role="switch" type="button" tabindex="0" aria-checked="false" data-headlessui-state=""><span class="sr-only">Use setting</span><span class="translate-x-0 bg-white pointer-events-none relative inline-block h-5 w-5 transform rounded-full shadow ring-0 transition duration-200 ease-in-out"><span class="opacity-100 duration-200 ease-in absolute inset-0 flex h-full w-full items-center justify-center transition-opacity" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></span><span class="opacity-0 duration-100 ease-out absolute inset-0 flex h-full w-full items-center justify-center transition-opacity" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg></span></span></button><!--]--><a target="_blank" href="https://github.com/qdriven/qapy-revisited/tree/master"><svg viewBox="0 0 16 16" class="h-6 w-6 text-slate-500 transition duration-300 hover:text-slate-600" fill="currentColor" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg><span class="sr-only">Software QA Python Revisited repository</span></a></div></div></div></nav><nav class="sticky top-0 z-40 w-full flex-none bg-transparent backdrop-blur dark:border-slate-50/[0.06] lg:z-50 lg:border-b lg:border-slate-900/10" style="display:none"><div class="mx-auto max-w-8xl px-4 xl:px-10"><div class="relative flex h-14 justify-between"><div class="flex flex-1 items-center justify-end space-x-5 sm:items-center"><div class="ml-6 space-x-6 border-r border-slate-200 dark:border-slate-800"><button class="hover:text-sky-500 dark:hover:text-sky-500 text-slate-400 transition duration-300 dark:text-slate-500">A+</button><button class="hover:text-sky-500 dark:hover:text-sky-500 text-slate-400 transition duration-300 dark:text-slate-500">A-</button><span class="text-white"></span></div><!--[--><!----><button class="bg-gray-200 relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none" id="headlessui-switch-8" role="switch" type="button" tabindex="0" aria-checked="false" data-headlessui-state=""><span class="sr-only">Use setting</span><span class="translate-x-0 bg-white pointer-events-none relative inline-block h-5 w-5 transform rounded-full shadow ring-0 transition duration-200 ease-in-out"><span class="opacity-100 duration-200 ease-in absolute inset-0 flex h-full w-full items-center justify-center transition-opacity" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg></span><span class="opacity-0 duration-100 ease-out absolute inset-0 flex h-full w-full items-center justify-center transition-opacity" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg></span></span></button><!--]--><button class="rounded text-slate-400 transition duration-300 hover:text-sky-500 dark:hover:bg-transparent"><span class="sr-only">close reader mode</span><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div></div></nav><div class="relative mx-auto flex min-h-screen max-w-8xl justify-center sm:px-2 lg:px-8 xl:px-12"><div class="lg:max-w-4xl min-w-0 flex-auto px-4 py-12 lg:pr-0 lg:pl-8 xl:px-16"><article><div class="prose prose-slate max-w-none dark:prose-invert dark:text-slate-400 prose-headings:scroll-mt-20 prose-headings:font-display prose-headings:font-medium lg:prose-headings:scroll-mt-20 prose-lead:text-slate-500 dark:prose-lead:text-slate-400 prose-a:font-semibold dark:prose-a:text-sky-400 prose-a:no-underline prose-a:shadow-[inset_0_-2px_0_0_var(--tw-prose-background,#fff),inset_0_calc(-1*(var(--tw-prose-underline-size,4px)+2px))_0_0_var(--tw-prose-underline,theme(colors.sky.300))] hover:prose-a:[--tw-prose-underline-size:6px] dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-a:shadow-[inset_0_calc(-1*var(--tw-prose-underline-size,2px))_0_0_var(--tw-prose-underline,theme(colors.sky.800))] dark:hover:prose-a:[--tw-prose-underline-size:6px] prose-pre:rounded-lg prose-pre:bg-slate-900 prose-pre:shadow-lg dark:prose-pre:bg-slate-800/60 dark:prose-pre:shadow-none dark:prose-pre:ring-1 dark:prose-pre:ring-slate-300/10 dark:prose-hr:border-slate-800 overflow-x-auto prose-thead:leading-6 prose-th:font-semibold prose-th:text-slate-700 prose-td:font-mono prose-td:font-bold prose-td:leading-6 prose-td:text-sky-500 prose-th:dark:text-slate-300 prose-td:dark:text-sky-400 prose-code:text-sky-500 prose-code:dark:text-sky-400"><!--[--><div class="markdown-body"><div><div class="flex items-center"><span class="hidden font-display text-sm font-medium text-sky-500 sm:flex">Posted on April 12, 2019</span><span class="ml-2 hidden text-slate-400 sm:flex">·</span><span class="font-display text-sm text-slate-400 sm:ml-2"> Updated on July 3, 2022</span></div><h1 class="mb-0">Python projects with Poetry and VSCode Part 1</h1><div class="mt-3 mb-10 flex flex-wrap gap-3 text-xs text-slate-50 dark:text-white"><!--[--><span class="rounded bg-sky-500 py-1 px-1.5 dark:bg-sky-600">#python</span><span class="rounded bg-sky-500 py-1 px-1.5 dark:bg-sky-600"> #intermediate</span><span class="rounded bg-sky-500 py-1 px-1.5 dark:bg-sky-600"> #vscode</span><span class="rounded bg-sky-500 py-1 px-1.5 dark:bg-sky-600"> #packaging</span><!--]--></div></div><p>A Virtual Environment is an isolated Python installation designed to avoid filling our base one with libraries we might use for only one project. It also allows us to manage multiple versions of the same package in different projects. We could, for example, need Django 4.1 for one and 1.9 for the other.</p><div class="my-8 flex rounded-2xl bg-sky-50 p-6 dark:bg-slate-800/60 dark:ring-1 dark:ring-slate-300/10"><svg aria-hidden="true" viewBox="0 0 32 32" fill="none" class="h-8 w-8 flex-none [--icon-foreground:theme(colors.slate.900)] [--icon-background:theme(colors.white)] hidden sm:flex"><defs><radialGradient id=":r6:-gradient" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0 21 -21 0 20 11)"><stop stop-color="#0EA5E9"></stop><stop stop-color="#22D3EE" offset=".527"></stop><stop stop-color="#818CF8" offset="1"></stop></radialGradient><radialGradient id=":r6:-gradient-dark" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0 24.5001 -19.2498 0 16 5.5)"><stop stop-color="#0EA5E9"></stop><stop stop-color="#22D3EE" offset=".527"></stop><stop stop-color="#818CF8" offset="1"></stop></radialGradient></defs><g class="dark:hidden"><circle cx="20" cy="20" r="12" fill="url(#:r6:-gradient)"></circle><path fill-rule="evenodd" clip-rule="evenodd" d="M20 24.995c0-1.855 1.094-3.501 2.427-4.792C24.61 18.087 26 15.07 26 12.231 26 7.133 21.523 3 16 3S6 7.133 6 12.23c0 2.84 1.389 5.857 3.573 7.973C10.906 21.494 12 23.14 12 24.995V27a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-2.005Z" class="fill-[var(--icon-background)]" fill-opacity="0.5"></path><path d="M25 12.23c0 2.536-1.254 5.303-3.269 7.255l1.391 1.436c2.354-2.28 3.878-5.547 3.878-8.69h-2ZM16 4c5.047 0 9 3.759 9 8.23h2C27 6.508 21.998 2 16 2v2Zm-9 8.23C7 7.76 10.953 4 16 4V2C10.002 2 5 6.507 5 12.23h2Zm3.269 7.255C8.254 17.533 7 14.766 7 12.23H5c0 3.143 1.523 6.41 3.877 8.69l1.392-1.436ZM13 27v-2.005h-2V27h2Zm1 1a1 1 0 0 1-1-1h-2a3 3 0 0 0 3 3v-2Zm4 0h-4v2h4v-2Zm1-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2Zm0-2.005V27h2v-2.005h-2ZM8.877 20.921C10.132 22.136 11 23.538 11 24.995h2c0-2.253-1.32-4.143-2.731-5.51L8.877 20.92Zm12.854-1.436C20.32 20.852 19 22.742 19 24.995h2c0-1.457.869-2.859 2.122-4.074l-1.391-1.436Z" class="fill-[var(--icon-foreground)]"></path><path d="M20 26a1 1 0 1 0 0-2v2Zm-8-2a1 1 0 1 0 0 2v-2Zm2 0h-2v2h2v-2Zm1 1V13.5h-2V25h2Zm-5-11.5v1h2v-1h-2Zm3.5 4.5h5v-2h-5v2Zm8.5-3.5v-1h-2v1h2ZM20 24h-2v2h2v-2Zm-2 0h-4v2h4v-2Zm-1-10.5V25h2V13.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2a.5.5 0 0 1 .5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2a.5.5 0 0 1 .5.5h2ZM18.5 18a3.5 3.5 0 0 0 3.5-3.5h-2a1.5 1.5 0 0 1-1.5 1.5v2ZM10 14.5a3.5 3.5 0 0 0 3.5 3.5v-2a1.5 1.5 0 0 1-1.5-1.5h-2Zm2.5-3.5a2.5 2.5 0 0 0-2.5 2.5h2a.5.5 0 0 1 .5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2a.5.5 0 0 1 .5.5h2Z" class="fill-[var(--icon-foreground)]"></path></g><g class="hidden dark:inline"><path fill-rule="evenodd" clip-rule="evenodd" d="M16 2C10.002 2 5 6.507 5 12.23c0 3.144 1.523 6.411 3.877 8.691.75.727 1.363 1.52 1.734 2.353.185.415.574.726 1.028.726H12a1 1 0 0 0 1-1v-4.5a.5.5 0 0 0-.5-.5A3.5 3.5 0 0 1 9 14.5V14a3 3 0 1 1 6 0v9a1 1 0 1 0 2 0v-9a3 3 0 1 1 6 0v.5a3.5 3.5 0 0 1-3.5 3.5.5.5 0 0 0-.5.5V23a1 1 0 0 0 1 1h.36c.455 0 .844-.311 1.03-.726.37-.833.982-1.626 1.732-2.353 2.354-2.28 3.878-5.547 3.878-8.69C27 6.507 21.998 2 16 2Zm5 25a1 1 0 0 0-1-1h-8a1 1 0 0 0-1 1 3 3 0 0 0 3 3h4a3 3 0 0 0 3-3Zm-8-13v1.5a.5.5 0 0 1-.5.5 1.5 1.5 0 0 1-1.5-1.5V14a1 1 0 1 1 2 0Zm6.5 2a.5.5 0 0 1-.5-.5V14a1 1 0 1 1 2 0v.5a1.5 1.5 0 0 1-1.5 1.5Z" fill="url(#:r6:-gradient-dark)"></path></g></svg><div class="flex-auto sm:ml-4"><!--[--><p class="m-0 font-display text-xl text-sky-900 dark:!text-sky-400"><!--[--> Python Poetry<!--]--></p><div class="dark:!prose-code:text-slate-300 prose mt-2.5 text-sky-800 [--tw-prose-background:theme(colors.sky.50)] prose-a:!text-sky-900 prose-a:decoration-sky-600 prose-a:decoration-2 prose-a:underline-offset-0 prose-code:text-sky-900 dark:text-slate-300 dark:prose-a:!text-sky-400"><p><!--[--> Poetry is a tool to handle dependency installation as well as building and packaging of Python packages. It only needs one file to do all of that: the new, <a target="_blank" href="https://www.python.org/dev/peps/pep-0518/">standardized</a> <code>pyproject.toml</code>`. In other words, poetry uses <code>pyproject.toml</code> to replace <code>setup.py</code>, <code>requirements.txt</code>, <code>setup.cfg</code>, <code>MANIFEST.in</code> and the newly added <code>Pipfile</code>.<!--]--></p></div><!--]--></div></div><p>In this series of articles, we’ll use <a href="https://poetry.eustace.io/" target="_blank" rel="noopener">Poetry</a> to manage our dependencies, build a simple project and, with a single command, publish it on <a href="https://pypi.org/" target="_blank" rel="noopener">PyPI</a>.</p><p>In this first part, we will:</p><ul><li>Start a new project.</li><li>Create a Virtual Environment.</li><li>Manage dependencies.</li></ul><p>In the <a href="/blog/python-projects-with-poetry-and-vscode-part-2" class="">second article</a>, we’ll:</p><ul><li>Add our virtual Environment to <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">VSCode</a>.</li><li>Integrate our dev dependencies:<ul><li><em>Flake8</em></li><li><em>Black</em></li><li><em>Pytest</em></li></ul></li></ul><p>And finally, in a <a href="/blog/python-projects-with-poetry-and-vscode-part-3" class="">third article</a> we’ll:</p><ul><li>Write a sample library.</li><li>Build our project with <em>Poetry</em>.</li><li>Publish it on <em>PyPI</em>.</li></ul><h2 id="installing-poetry" tabindex="-1">Installing Poetry</h2><p>The easiest way is to use <em>pip</em>:</p><pre><code>$ pip install poetry
</code></pre><p>But we will use Poetry own installer to isolate it from the rest of the system by vendorizing its dependencies. This is the recommended way of installing poetry:</p><pre><code>$ curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -
</code></pre><p>This way, we will later be able to update poetry to the latest stable version with the <code>poetry self update</code> command.</p><h2 id="starting-a-new-project" tabindex="-1">Starting a new project</h2><p>We can now start a new Python project by using the <code>poetry new [project_name]</code> command. I will call it <strong><em>how-long</em></strong> and will be a simple library to measure the execution time of a function:</p><pre><code>$ poetry new how-long
</code></pre><blockquote><p>Note: For existing projects, you can use the <code>poetry init</code> command and interactively create a <em>pyproject.toml</em>.</p></blockquote><p>The directory <em>how-long</em> is created and inside is a basic project structure:</p><pre><code>how-long
├── README.rst
├── how_long
│   └── __init__.py
├── pyproject.toml
└── tests
    ├── __init__.py
    └── test_how_long.py
</code></pre><blockquote><p>Note: To be able to publish your project, you need an available name. Use the <a href="https://pypi.org/" target="_blank" rel="noopener">PyPI</a> search for this.</p></blockquote><h3 id="the-pyprojecttoml-file" tabindex="-1">The pyproject.toml file</h3><p>The <strong>pyproject.toml</strong> file will manage the details and dependencies of the project:</p><pre><code>[tool.poetry]
name = "how-long"
version = "0.1.0"
description = "A simple decorator to measure a function execution time."
authors = ["wilfredinni &lt;carlos.w.montecinos@gmail.com&gt;"]

[tool.poetry.dependencies]
python = "^3.7"

[tool.poetry.dev-dependencies]
pytest = "^3.0"

[build-system]
requires = ["poetry&gt;=0.12"]
build-backend = "poetry.masonry.api"
</code></pre><h4 id="toolpoetry" tabindex="-1">[tool.poetry]</h4><p>The details. Adding a <a href="https://poetry.eustace.io/docs/pyproject/#license" target="_blank" rel="noopener">license</a> and a <a href="https://poetry.eustace.io/docs/pyproject/#readme" target="_blank" rel="noopener">README</a> might be a good idea:</p><pre><code>[tool.poetry]
...
license = "MIT"
readme = "README.rst"
</code></pre><h4 id="toolpoetrydependencies" tabindex="-1">[tool.poetry.dependencies]</h4><p>First is the Python version. Basically, this project will be compatible with Python 3.7 and up. Furthermore, from now on, every package we install that is meant to be used in production will be listed here.</p><h4 id="toolpoetrydev-dependencies" tabindex="-1">[tool.poetry.dev-dependencies]</h4><p>These packages are only for development and will not be included when we publish our project. By default, Poetry includes <a href="https://docs.pytest.org/en/latest/" target="_blank" rel="noopener">Pytest</a>, so we will use it to test our project later on.</p><h2 id="creating-a-virtual-environment" tabindex="-1">Creating a Virtual Environment</h2><p>To create a Virtual Environment and install <em>Pytest</em>, we will use the <code>poetry install</code> command:</p><pre><code>$ poetry install
</code></pre><p><img src="https://raw.githubusercontent.com/wilfredinni/pysheetComments/master/2019/April/poetry_vscode_p1/poetry-install.png" alt="poetry-install-command"></p><p>After is done, a new file, <code>poetry.lock</code> will be created.</p><blockquote><p>When Poetry has finished installing, it writes all the packages and the exact versions of them that it downloaded to the poetry.lock file, locking the project to those specific versions. You should commit the poetry.lock file to your project repo so that all people working on the project are locked to the same versions of dependencies.</p></blockquote><h2 id="dependency-management" tabindex="-1">Dependency management</h2><p>One way to add or remove dependencies is to directly edit <em>pyproject.toml</em> and then run <code>poetry install</code> to apply the changes. We will instead use the <code>add</code> and <code>remove</code> commands to avoid manual modifications.</p><h3 id="adding-dependencies" tabindex="-1">Adding dependencies</h3><p>Let’s add two packages to the project, <em>pendulum</em>, and <em>coo</em>:</p><pre><code>$ poetry add pendulum coo
</code></pre><p><img src="https://raw.githubusercontent.com/wilfredinni/pysheetComments/master/2019/April/poetry_vscode_p1/poetry-add.png" alt="poetry-add-command"></p><p>Open <em>pyproject.toml</em> and <em>poetry.lock</em> and see how they have updated.</p><h3 id="adding-dev-dependencies" tabindex="-1">Adding Dev dependencies</h3><p>These dependencies will be available only during development, Poetry will not include them when building and publishing the project.</p><p>We already installed <em>Pytest</em>, but we will also use <a href="http://flake8.pycqa.org/en/latest/" target="_blank" rel="noopener">flake8</a> for linting and <a href="http://mypy-lang.org/" target="_blank" rel="noopener">mypy</a> for static typing:</p><pre><code>$ poetry add -D flake8 mypy
</code></pre><p>Now that I think about it, I forgot to add a formatter. We’ll go with <a href="https://black.readthedocs.io/en/stable/" target="_blank" rel="noopener">black</a>:</p><pre><code>$ poetry add -D black
[ValueError]
Could not find a matching version of package black

add [-D|--dev] [--git GIT] [--path PATH] [-E|--extras EXTRAS] [--optional] [--python PYTHON] [--platform PLATFORM] [--allow-prereleases] [--dry-run] [--] &lt;name&gt; (&lt;name&gt;)...
</code></pre><p>This error happens because <em>black</em> is in a pre-release state, so Poetry cannot find any stable version for us. But I really want it, so let’s install it anyway with the <code>--allow-prereleases</code> flag:</p><pre><code>$ poetry add -D black --allow-prereleases
</code></pre><p><img src="https://raw.githubusercontent.com/wilfredinni/pysheetComments/master/2019/April/poetry_vscode_p1/poetry-add-dev.png" alt="poetry-add-dev-command"></p><h3 id="removing-dependencies" tabindex="-1">Removing dependencies</h3><p>You know what, I changed my mind, this project will use nor <em>coo</em> nor <em>mypy</em>. Start by removing <em>coo</em>, a normal dependency of our project:</p><pre><code>$ poetry remove coo
</code></pre><p>Now <em>mypy</em> which is a dev dependency:</p><pre><code>$ poetry remove -D mypy
</code></pre><h2 id="conclusion" tabindex="-1">Conclusion</h2><p>In this first part, we have started a new project, created a Virtual Environment and added and removed dependencies by using the following commands:</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>poetry new [package-name]</code></td><td>Start a new Python Project.</td></tr><tr><td><code>poetry init</code></td><td>Create a <em>pyproject.toml</em> file interactively.</td></tr><tr><td><code>poetry install</code></td><td>Install the packages inside the <em>pyproject.toml</em> file.</td></tr><tr><td><code>poetry add [package-name]</code></td><td>Add a package to a Virtual Environment.</td></tr><tr><td><code>poetry add -D [package-name]</code></td><td>Add a dev package to a Virtual Environment.</td></tr><tr><td><code>poetry remove [package-name]</code></td><td>Remove a package from a Virtual Environment.</td></tr><tr><td><code>poetry remove -D [package-name]</code></td><td>Remove a dev package from a Virtual Environment.</td></tr><tr><td><code>poetry self:update</code></td><td>Update poetry to the latest stable version.</td></tr></tbody></table><p>In a <a href="/blog/python-projects-with-poetry-and-vscode-part-2" class="">second article</a>, we will see more <em>Poetry</em> commands, add our Virtual Environment to <em>VSCode</em> and use the dev packages we installed to lint (Flake8), format (Black) and test (Pytest) our code inside the editor. Finally, in a third one, we will write and publish a sample library to <em>PyPI</em>.</p><p>Any doubt or suggestion? Please leave a comment.</p></div><!--]--></div></article><!----><footer class="mt-5 border-t dark:border-t-slate-800"><div class="justify-between pt-5 sm:flex"><div class="space-y-1.5 grid text-xs"><div class="flex items-center text-slate-600 dark:text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="mr-2 h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> Edit this page on <a target="_blank" href="https://github.com/qdriven/qapy-revisited/blob/master/docs/blog/python-projects-with-poetry-and-vscode-part-1.md" class="ml-1 flex text-sky-500 hover:text-sky-600 dark:text-sky-400 dark:hover:text-sky-500">GitHub</a></div><!--[--><div class="flex items-center text-slate-600 dark:text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="mr-2 h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Do you have a question? <a target="_blank" href="https://github.com/qdriven/qapy-revisited/discussions" class="ml-1 flex text-sky-500 hover:text-sky-600 dark:text-sky-400 dark:hover:text-sky-500">ask the community</a></div><div class="flex items-center text-slate-600 dark:text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792" class="fill-current mr-2 h-4 w-4"><path d="M1696 960q0 26-19 45t-45 19h-224q0 171-67 290l208 209q19 19 19 45t-19 45q-18 19-45 19t-45-19l-198-197q-5 5-15 13t-42 28.5-65 36.5-82 29-97 13v-896h-128v896q-51 0-101.5-13.5t-87-33-66-39-43.5-32.5l-15-14-183 207q-20 21-48 21-24 0-43-16-19-18-20.5-44.5t15.5-46.5l202-227q-58-114-58-274h-224q-26 0-45-19t-19-45 19-45 45-19h224v-294l-173-173q-19-19-19-45t19-45 45-19 45 19l173 173h844l173-173q19-19 45-19t45 19 19 45-19 45l-173 173v294h224q26 0 45 19t19 45zm-480-576h-640q0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5z"></path></svg> Do you see a bug? <a target="_blank" href="https://github.com/qdriven/qapy-revisited/issues" class="ml-1 flex text-sky-500 hover:text-sky-600 dark:text-sky-400 dark:hover:text-sky-500">open an issue on GitHub</a></div><!--]--></div></div></footer></div><div style="" class="hidden w-56 overflow-x-hidden xl:sticky xl:top-[4.3rem] xl:-mr-6 xl:block xl:h-[calc(100vh-3.6rem)] xl:flex-none xl:overflow-y-auto xl:py-10 xl:pr-6"><nav aria-labelledby="on-this-page-title" class="flex h-full w-56 flex-col justify-between"><div><h3 class="font-display text-sm font-medium text-slate-900 dark:text-white">On this page</h3><ul class="mt-4 text-sm"><!--[--><!--]--></ul></div><div class="mt-4 space-y-1.5" data-v-c0cdbd62=""><!----></div></nav></div></div></div></div><script>window.__INITIAL_STATE__='{"pinia":{"reader":{"readerMode":false,"availableFontSizes":["prose-sm","prose-md","prose-lg","prose-xl","prose-2xl"],"currentFontSize":"prose-xl"},"navigation":{"navbarNavigation":[{"name":"Blog","path":"/blog","internal":true},{"name":"Weekly","path":"https://fluent-qa.hashnode.dev/","internal":false}],"mainNavigation":[{"name":"Getting started","path":"/"}],"cheatsheetNavigation":[{"index":1,"name":"1-basics","path":"/cheatsheet/1-basics"},{"index":2,"name":"2-control-flow","path":"/cheatsheet/2-control-flow"},{"index":3,"name":"3-dictionaries","path":"/cheatsheet/3-dictionaries"},{"index":4,"name":"4-functions","path":"/cheatsheet/4-functions"},{"index":6,"name":"6-json-yaml","path":"/cheatsheet/6-json-yaml"},{"index":7,"name":"7-json-module","path":"/cheatsheet/7-json-module"},{"index":8,"name":"8-dataclasses","path":"/cheatsheet/8-dataclasses"},{"index":9,"name":"9-comprehensions","path":"/cheatsheet/9-comprehensions"},{"index":10,"name":"10-args-and-kwargs","path":"/cheatsheet/10-args-and-kwargs"},{"index":11,"name":"11-context-manager","path":"/cheatsheet/11-context-manager"},{"index":12,"name":"12-sets","path":"/cheatsheet/12-sets"},{"index":13,"name":"13-zipfile-module","path":"/cheatsheet/13-zipfile-module"},{"index":14,"name":"14-main","path":"/cheatsheet/14-main"},{"index":16,"name":"16-built-in-functions","path":"/cheatsheet/16-built-in-functions"},{"index":17,"name":"17-datetime-module","path":"/cheatsheet/17-datetime-module"},{"index":18,"name":"18-debugging","path":"/cheatsheet/18-debugging"},{"index":19,"name":"19-exception-handling","path":"/cheatsheet/19-exception-handling"},{"index":20,"name":"20-file-directory-path","path":"/cheatsheet/20-file-directory-path"},{"index":21,"name":"21-itertools-module","path":"/cheatsheet/21-itertools-module"},{"index":22,"name":"22-lists-and-tuples","path":"/cheatsheet/22-lists-and-tuples"},{"index":23,"name":"23-manipulating-strings","path":"/cheatsheet/23-manipulating-strings"},{"index":24,"name":"24-os-module","path":"/cheatsheet/24-os-module"},{"index":25,"name":"25-random-module","path":"/cheatsheet/25-random-module"},{"index":26,"name":"26-reading-and-writing-files","path":"/cheatsheet/26-reading-and-writing-files"},{"index":27,"name":"27-regular-expressions","path":"/cheatsheet/27-regular-expressions"},{"index":28,"name":"28-setup-py","path":"/cheatsheet/28-setup-py"},{"index":29,"name":"29-shelve-module","path":"/cheatsheet/29-shelve-module"},{"index":30,"name":"30-string-formatting","path":"/cheatsheet/30-string-formatting"},{"index":31,"name":"31-virtual-environments","path":"/cheatsheet/31-virtual-environments"},{"index":32,"name":"32-pathlib-module","path":"/cheatsheet/32-pathlib-module"}],"standardLibraryNavigation":[{"index":1,"name":"1-abs","path":"/builtin/1-abs"},{"index":2,"name":"2-aiter","path":"/builtin/2-aiter"},{"index":3,"name":"3-all","path":"/builtin/3-all"},{"index":4,"name":"4-any","path":"/builtin/4-any"},{"index":5,"name":"5-ascii","path":"/builtin/5-ascii"},{"index":6,"name":"6-bin","path":"/builtin/6-bin"},{"index":7,"name":"7-bool","path":"/builtin/7-bool"},{"index":8,"name":"8-breakpoint","path":"/builtin/8-breakpoint"},{"index":9,"name":"9-bytearray","path":"/builtin/9-bytearray"},{"index":10,"name":"10-bytes","path":"/builtin/10-bytes"},{"index":11,"name":"11-callable","path":"/builtin/11-callable"},{"index":12,"name":"12-chr","path":"/builtin/12-chr"},{"index":13,"name":"13-classmethod","path":"/builtin/13-classmethod"},{"index":14,"name":"14-compile","path":"/builtin/14-compile"},{"index":15,"name":"15-complex","path":"/builtin/15-complex"},{"index":16,"name":"16-delattr","path":"/builtin/16-delattr"},{"index":17,"name":"17-dict","path":"/builtin/17-dict"},{"index":18,"name":"18-dir","path":"/builtin/18-dir"},{"index":19,"name":"19-divmod","path":"/builtin/19-divmod"},{"index":20,"name":"20-enumerate","path":"/builtin/20-enumerate"},{"index":21,"name":"21-eval","path":"/builtin/21-eval"},{"index":22,"name":"22-exec","path":"/builtin/22-exec"},{"index":23,"name":"23-filter","path":"/builtin/23-filter"},{"index":24,"name":"24-float","path":"/builtin/24-float"},{"index":25,"name":"25-format","path":"/builtin/25-format"},{"index":26,"name":"26-frozenset","path":"/builtin/26-frozenset"},{"index":27,"name":"27-getattr","path":"/builtin/27-getattr"},{"index":28,"name":"28-globals","path":"/builtin/28-globals"},{"index":29,"name":"29-hasattr","path":"/builtin/29-hasattr"},{"index":30,"name":"30-hash","path":"/builtin/30-hash"},{"index":31,"name":"31-help","path":"/builtin/31-help"},{"index":32,"name":"32-hex","path":"/builtin/32-hex"},{"index":33,"name":"33-id","path":"/builtin/33-id"},{"index":34,"name":"34-import","path":"/builtin/34-import"},{"index":35,"name":"35-input","path":"/builtin/35-input"},{"index":36,"name":"36-int","path":"/builtin/36-int"},{"index":37,"name":"37-isinstance","path":"/builtin/37-isinstance"},{"index":38,"name":"38-issubclass","path":"/builtin/38-issubclass"},{"index":39,"name":"39-iter","path":"/builtin/39-iter"},{"index":40,"name":"40-len","path":"/builtin/40-len"},{"index":41,"name":"41-list","path":"/builtin/41-list"},{"index":42,"name":"42-locals","path":"/builtin/42-locals"},{"index":43,"name":"43-map","path":"/builtin/43-map"},{"index":44,"name":"44-max","path":"/builtin/44-max"},{"index":45,"name":"45-memoryview","path":"/builtin/45-memoryview"},{"index":46,"name":"46-min","path":"/builtin/46-min"},{"index":47,"name":"47-next","path":"/builtin/47-next"},{"index":48,"name":"48-object","path":"/builtin/48-object"},{"index":49,"name":"49-oct","path":"/builtin/49-oct"},{"index":50,"name":"50-open","path":"/builtin/50-open"},{"index":52,"name":"52-ord","path":"/builtin/52-ord"},{"index":53,"name":"53-pow","path":"/builtin/53-pow"},{"index":54,"name":"54-print","path":"/builtin/54-print"},{"index":55,"name":"55-property","path":"/builtin/55-property"},{"index":56,"name":"56-range","path":"/builtin/56-range"},{"index":57,"name":"57-repr","path":"/builtin/57-repr"},{"index":58,"name":"58-reversed","path":"/builtin/58-reversed"},{"index":59,"name":"59-round","path":"/builtin/59-round"},{"index":60,"name":"60-set","path":"/builtin/60-set"},{"index":61,"name":"61-setattr","path":"/builtin/61-setattr"},{"index":62,"name":"62-slice","path":"/builtin/62-slice"},{"index":63,"name":"63-sorted","path":"/builtin/63-sorted"},{"index":64,"name":"64-staticmethod","path":"/builtin/64-staticmethod"},{"index":65,"name":"65-str","path":"/builtin/65-str"},{"index":66,"name":"66-sum","path":"/builtin/66-sum"},{"index":67,"name":"67-super","path":"/builtin/67-super"},{"index":68,"name":"68-tuple","path":"/builtin/68-tuple"},{"index":69,"name":"69-type","path":"/builtin/69-type"},{"index":70,"name":"70-vars","path":"/builtin/70-vars"},{"index":71,"name":"71-zip","path":"/builtin/71-zip"}],"QAPythonRevisitedNavigation":[]},"useNewsletterStore":{"response":null}}}'</script></body></html>